<!-- prettier-ignore -->
{% extends 'base.html' %}
{% load static %}
{% block title %}Projects | Filters{% endblock %}
{% block body_class %}projects-page{% endblock %}
{% block content %}

<section class="projects-section section" id="projects">
  <h2 class="projects-heading">All Projects</h2>
  <div
    class="projects-filters cluster cluster--center"
    aria-label="Filter projects"
  >
    <button
      class="btn btn--primary"
      type="button"
      data-filter="all"
      aria-pressed="true"
    >
      All
    </button>
    <button
      class="btn btn--secondary"
      type="button"
      data-filter="react"
      aria-pressed="false"
    >
      React
    </button>
    <button
      class="btn btn--secondary"
      type="button"
      data-filter="angular"
      aria-pressed="false"
    >
      Angular
    </button>
    <button
      class="btn btn--secondary"
      type="button"
      data-filter="node"
      aria-pressed="false"
    >
      Node
    </button>
    <button
      class="btn btn--secondary"
      type="button"
      data-filter="django"
      aria-pressed="false"
    >
      Django
    </button>
    <button
      class="btn btn--secondary"
      type="button"
      data-filter="bootstrap"
      aria-pressed="false"
    >
      Bootstrap
    </button>
    <button
      class="btn btn--secondary"
      type="button"
      data-filter="other"
      aria-pressed="false"
    >
      Other
    </button>
  </div>
  <div
    class="projects-meta"
    aria-atomic="true"
    style="text-align: center; margin: 0.8rem 0 0.4rem 0"
  >
    <span id="projects-count">Showing all projects</span>
  </div>

  <div
    class="projects projects-grid grid"
    role="list"
    aria-label="Projects"
    id="projects-gallery"
  >
    {% for case_study in case_studies %}
    <!-- {{ case_study.title }} -->
    <div
      class="project card card--project"
      role="listitem"
      data-tech="{{ case_study.get_tech_classes }}"
    >
      {% if case_study.image %}
      <img
        class="card__media"
        src="{{ case_study.image.url }}"
        alt="{{ case_study.title }} Screenshot"
        loading="lazy"
        decoding="async"
        width="800"
        height="220"
      />
      {% endif %}
      <div class="project-info card__body">
        <h3 class="project-heading card__title">{{ case_study.title }}</h3>
        <p class="project-description card__text">
          {{ case_study.short_description }}
        </p>
        <div class="btn-group card__actions">
          {% if case_study.live_url %}
          <a
            href="{{ case_study.live_url }}"
            target="_blank"
            class="btn btn-project btn--primary"
            >View Project</a
          >
          {% endif %}
          {% if case_study.github_url %}
          <a
            href="{{ case_study.github_url }}"
            target="_blank"
            class="btn btn-github btn--dark"
            >Repository</a
          >
          {% endif %}
          <a
            href="{% url 'pages:case-detail' slug=case_study.slug %}"
            class="btn btn--secondary"
            >Case Study</a
          >
        </div>
      </div>
    </div>
    {% empty %}
    <p style="text-align: center; padding: 2rem;">No projects available yet.</p>
    {% endfor %}
  </div>
</section>

{% endblock %}
